(window["webpackJsonpphot-gallery"]=window["webpackJsonpphot-gallery"]||[]).push([[0],{29:function(e,t,a){e.exports=a(58)},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(5),o=a.n(i),c=a(6),l=a(4),s=a(21),u=a(22),p=a(27),m=a(23),g=a(28),d=a(26),f=a(10),h=a.n(f),b=(a(56),"https://api.mlab.com/api/1/databases/images/collections/images?apiKey=kIOuLscCmhbeSOoBEtJUYPV6vy1TMIaQ");function v(){var e=this;h.a.get(b).then((function(t){e.setState({images:t}),e.props.getImages(t)}))}function O(){return this.props.data.images.data.map((function(e){return r.a.createElement("div",null,r.a.createElement("img",{key:e._id.$oid,src:e.imageUrl,alt:"",className:"image"}),";")}))}function y(){h.a.post(b,{imageUrl:this.state.imageFile}),this.props.uploadImage()}var E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={imageFile:"",images:{}},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){v.call(this)}},{key:"componentDidUpdate",value:function(e,t,a){this.props.data.getNewImages&&v.call(this)}},{key:"onImageDrop",value:function(e){this.handleImageUpload(e[0])}},{key:"handleImageUpload",value:function(e){var t=this;(function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))})(e).then((function(e){t.setState({imageFile:e}),y.call(t)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:"split left"},r.a.createElement(d.a,{onDrop:this.onImageDrop.bind(this),accept:"image/*",multiple:!1},(function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("div",Object.assign({className:"dropFile"},t()),r.a.createElement("input",a()),r.a.createElement("button",{className:"upload"},"drop file here, or click to upload"))}))),r.a.createElement("div",{className:"split right"},r.a.createElement("div",null,this.props.data.images.data&&O.call(this)))))}}]),t}(n.Component),I=function(e){return e};var j=Object(c.b)((function(e){return{data:I(e.data)}}),(function(e){return{getImages:function(t){return e(function(e){return{type:"GET_IMAGES",images:e}}(t))},uploadImage:function(){return e({type:"UPLOAD_IMAGE"})}}}))(E),w=(a(57),a(25));function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach((function(t){Object(w.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var k={images:[],getNewImages:!1},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;return"GET_IMAGES"===t.type?D({},e,{images:t.images,getNewImages:!1}):"UPLOAD_IMAGE"===t.type?D({},e,{getNewImages:!0}):e},U=Object(l.c)(Object(l.b)({data:N}));o.a.render(r.a.createElement(c.a,{store:U},r.a.createElement(j,null)),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.effe7292.chunk.js.map